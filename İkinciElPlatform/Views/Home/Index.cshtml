@model List<IkinciElPlatform.Models.Product>

@{
    ViewData["Title"] = "Ana Sayfa";
}

<style>
    body {
        background: #f4f6f8 !important;
    }

    /* ✅ HERO */
    .hero-section {
        background: linear-gradient(135deg, #6366f1, #22c55e);
        padding: 80px 20px;
        border-radius: 18px;
        color: white;
        margin-bottom: 60px;
        text-align: center;
        max-width: 1100px;
        margin-left: auto;
        margin-right: auto;
    }

    .hero-title {
        font-size: 42px;
        font-weight: 900;
        margin-bottom: 10px;
    }

    .hero-desc {
        font-size: 18px;
        opacity: 0.95;
        margin-bottom: 25px;
    }

    .hero-search {
        max-width: 500px;
        margin: 0 auto;
        display: flex;
        gap: 10px;
    }

        .hero-search input {
            border-radius: 999px;
            padding: 12px 18px;
            border: none;
            width: 100%;
        }

        .hero-search button {
            border-radius: 999px;
            padding: 12px 28px;
            background: white;
            border: none;
            font-weight: 700;
            color: #22c55e;
        }

    /* ✅ KATEGORİ */
    .category-title {
        font-size: 28px;
        font-weight: 800;
        color: #0f172a;
        margin: 60px 0 25px;
        text-align: center;
    }

    .category-card {
        background: white;
        border-radius: 18px;
        padding: 25px 15px;
        text-align: center;
        box-shadow: 0 8px 18px rgba(15, 23, 42, 0.1);
        transition: 0.25s;
        height: 100%;
    }

        .category-card:hover {
            transform: translateY(-6px);
            box-shadow: 0 16px 28px rgba(15, 23, 42, 0.2);
        }

    .category-icon {
        font-size: 34px;
        margin-bottom: 10px;
    }

    .category-name {
        font-weight: 700;
        color: #0f172a;
        font-size: 15px;
    }

    /* ✅ KARTLAR */
    .featured-title {
        font-size: 28px;
        font-weight: 800;
        color: #0f172a;
        margin: 70px 0 25px;
        text-align: center;
    }

    .featured-card,
    .home-card {
        background: white;
        border-radius: 16px;
        padding: 12px;
        box-shadow: 0 6px 14px rgba(15, 23, 42, 0.08);
        transition: 0.25s;
        height: 100%;
        display: flex;
        flex-direction: column;
    }

        .featured-card:hover,
        .home-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 14px 26px rgba(15, 23, 42, 0.15);
        }

    .featured-img,
    .home-card-img {
        width: 100%;
        height: 150px;
        object-fit: cover;
        border-radius: 12px;
        margin-bottom: 8px;
    }

    .featured-title-sm,
    .home-card-title {
        font-weight: 600;
        font-size: 14px;
        color: #0f172a;
        margin-bottom: 3px;
    }

    .home-card-desc {
        font-size: 13px;
        color: #64748b;
        margin-bottom: 10px;
        min-height: 34px;
    }

    .featured-price,
    .home-card-price {
        background: linear-gradient(135deg, #6366f1, #22c55e);
        padding: 5px 11px;
        border-radius: 999px;
        color: white;
        font-weight: 600;
        font-size: 12px;
        display: inline-block;
    }

    .home-card-bottom {
        margin-top: auto;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .home-wrapper {
        max-width: 1100px;
        margin: 0 auto 70px;
        padding: 0 15px;
    }
</style>

<!-- ✅ HERO -->
<div class="hero-section">
    <div class="hero-title">Aradığın Her Şey SHP’de!</div>
    <div class="hero-desc">Güvenli, hızlı ve modern ikinci el alışverişin adresi.</div>

    <form class="hero-search" method="get" action="/Product">
        <input type="text" name="search" placeholder="Ne arıyorsun?" />
        <button type="submit">🔍 Ara</button>
    </form>
</div>

<!-- ✅ KATEGORİLER -->
<div class="home-wrapper">
    <h2 class="category-title">📂 Kategoriler</h2>

    <div class="row">
        @foreach (var cat in ViewBag.Categories)
        {
            <div class="col-md-3 col-sm-6 mb-4">
                <a href="/Product?categoryId=@cat.Id" style="text-decoration:none;">
                    <div class="category-card">
                        <div class="category-icon">
                            @switch (cat.Name.ToLower())
                            {
                                case "elektronik":
                                    <i class="fa-solid fa-tv"></i>
                                    break;

                                case "giyim":
                                    <i class="fa-solid fa-shirt"></i>
                                    break;

                                case "ayakkabı":
                                    <i class="fa-solid fa-shoe-prints"></i>
                                    break;

                                case "beyaz eşya":
                                    <i class="fa-solid fa-blender"></i>
                                    break;

                                case "telefon":
                                    <i class="fa-solid fa-mobile-screen"></i>
                                    break;

                                default:
                                    <i class="fa-solid fa-box"></i>
                                    break;
                            }
                        </div>

                        <div class="category-name">@cat.Name</div>
                    </div>
                </a>
            </div>
        }
    </div>

    <!-- ✅ EN ÇOK FAVORİLENENLER -->
    @if (ViewBag.MostFavorited != null && ((List<IkinciElPlatform.Models.Product>)ViewBag.MostFavorited).Any())
    {
        <h2 class="featured-title">❤️ En Çok Favorilenen İlanlar</h2>

        <div class="row">
            @foreach (var item in (List<IkinciElPlatform.Models.Product>)ViewBag.MostFavorited)
            {
                <div class="col-md-4 col-sm-6 mb-4">
                    <a href="/Product/Detail/@item.Id" style="text-decoration:none;">
                        <div class="featured-card">
                            @if (!string.IsNullOrEmpty(item.ImageUrl))
                            {
                                <img src="@item.ImageUrl" class="featured-img" />
                            }

                            <div class="featured-title-sm">@item.Title</div>
                            <div class="featured-price">@item.Price ₺</div>
                        </div>
                    </a>
                </div>
            }
        </div>
    }

    <!-- ✅ SON EKLENENLER -->
    <h2 class="featured-title">🆕 Son Eklenen İlanlar</h2>

    @if (!Model.Any())
    {
        <p class="text-muted">Henüz hiç ilan eklenmedi.</p>
    }
    else
    {
        <div class="row">
            @foreach (var item in Model)
            {
                <div class="col-md-4 col-sm-6 mb-3">
                    <a href="/Product/Detail/@item.Id" style="text-decoration:none;">
                        <div class="home-card">

                            @if (!string.IsNullOrEmpty(item.ImageUrl))
                            {
                                <img src="@item.ImageUrl" class="home-card-img" />
                            }

                            <div class="home-card-title">@item.Title</div>

                            <div class="home-card-desc">
                                @item.Description
                            </div>

                            <div class="home-card-bottom">
                                <div class="home-card-price">@item.Price ₺</div>
                                <div class="home-card-category">@item.Category?.Name</div>
                            </div>

                        </div>
                    </a>
                </div>
            }
        </div>
    }
</div>
